<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-67075015-1"></script>
    <script>  
        window.dataLayer = window.dataLayer || [];  
        function gtag(){
        dataLayer.push(arguments);
        }  
        gtag('js', new Date());  
        gtag('config', 'UA-67075015-1');
    </script>

</head>
<div *ngIf="(!isDataLoaded && !isOfferingsLoaded
&& !isContactUs && !isAboutUs && !isPolicy && !isPersonal 
&& !isCareers  && !isPublications && !isJoinUs
&& !searchTag && !isUserForm && !isEmptyDataList && !isLeadership)">
    <app-page-loader></app-page-loader>
</div> 
<div class="icon-bar" *ngIf="!isPolicy">
    <a href="https://www.linkedin.com/company/kavi-global/mycompany/" target="_blank" class="linkedin"><i class="fa fa-linkedin"></i></a>
    <a href="https://www.youtube.com/channel/UCEMWF8WAJuM5k32gkxGopBQ" target="_blank" class="youtube"><i class="fa fa-youtube"></i></a> 
    <a href="https://twitter.com/KG4Analytics" target="_blank" class="twitter"><i class="fa fa-twitter"></i></a> 
    <a href="https://www.facebook.com/kaviglobal/" target="_blank" class="facebook"><i class="fa fa-facebook"></i></a> 
 </div>
 <div *ngIf="!isContactUs" class="icon-bar1">
    <a class="contact" (click)="open(mymodal,'','','','')">Contact us</a> 
</div>
<ng-template #mymodal let-modal>
    <div class="modal-header" style="padding-left: 25px;">     
      <h3 class="title"> Please let us know how we may help you</h3>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
        <div class="row fillForm">                    
            <ng-container>
                <form [formGroup]="demoSection" (ngSubmit)="sendDemoRequest()">                  
                    <div>                                                    
                            <input class="formStyles" type="text" placeholder = "First Name *" formControlName="firstName">                                  
                         
                            <input class="formStyles" type="text" placeholder = "Last Name *"  formControlName="lastName">
                         
                            <input class="formStyles" type="text" placeholder = "Email *" formControlName="email">
                          
                            <input class="formStyles" type="number" placeholder = "Phone" formControlName="phone">
                        
                            <textarea class="formStyles" style="width:82%; height:100px" formControlName="message" placeholder="Message.." cols="45" rows="8" aria-required="true"></textarea>
                            
                    </div> 
                    <div *ngIf="!validateStatus && validateMessage.length > 0" style="padding-bottom: 20px;">
                        <span style="color: red; font-size:13px;">
                            {{validateMessage}}
                        </span>
                    </div>
                    <button id="submit" type="submit" >Send</button>                             
                   
                    <div *ngIf="validateStatus" style="padding-bottom: 20px;">
                        <span style="color: Green; font-size:13px;">
                            {{validateMessage}}
                        </span>
                    </div>
            
                  </form>
            </ng-container>
        </div>
    </div>
  </ng-template> 
<div *ngIf="(isPolicy || isPersonal) && !isUserForm">
    <div class="container pt-5">
        <markdown [data]="terms[0]"> </markdown>
        <div class="modalFooter">
            <button type="button" id="closeModal"  (click)="onClose()">Close</button>
            </div>
    </div>        
</div>
<div *ngIf="isContactUs && !isUserForm" class="page-container"> 
    <div class="container py-5 contact_page">
        <h3 class="title">Contact Us</h3> 
        <form [formGroup]="contactForm" (ngSubmit)="submitForm()">
            <div *ngFor="let item of formData; let i = index">
            <div *ngIf="item.Type == 'text' || item.Type == 'number'" class="flex_div">    
                <input  class="formStyles" [type]="item.Type" [formControlName]="item.Label" placeholder={{item.Label}} item.Required>
                <span *ngIf="item.Required == 'true'" class="mandatory_start">*</span>
            </div> 
            <div *ngIf="item.Type == 'textarea'" style="padding-right: 26px;">    
                <textarea class="formStyles" [formControlName]="item.Label" placeholder="{{item.Label}}"></textarea>
                <span *ngIf="item.Required == 'true'" class="mandatory_start">*</span>

                </div>        
                <div *ngIf="item.Type == 'button' && (validateMessage == '' || validateMessage == 'Error')">   
                    <div *ngIf="validateMessage == 'Error' && validateMessage.length > 0" style="padding-bottom: 20px;">
                        <span style="color: red; font-size:18px;">
                            {{formSendMessage}}
                        </span>
                    </div>
                    <button
                    id="submit" type="submit" value="item.Label">{{item.Label}}</button>
                </div>
                <div *ngIf="item.Type == 'button' && (validateMessage == 'Success')">
                    <div *ngIf="validateMessage == 'Success'" style="padding-bottom: 20px;">
                        <span style="color: Green; font-size:18px;">
                            {{formSendMessage}}
                        </span>
                    </div>
                    <button id="submit" type="submit" value="item.Label" [disabled] = "true">{{item.Label}}</button>
                </div>
            </div>
        </form>

    </div>
</div>
<div *ngIf="isEmptyDataList" class="page-container"> 
    <div class="container py-5" style="min-height: 500px;">
        <h2> No data available for the selected Tag</h2>
    </div>
</div>
<div *ngIf="isUserForm" class="page-container"> 
    <div class="container">
      
        <h3 class="title" style="padding:10px;">User Request Form</h3> 
    <form [formGroup]="userForm" (ngSubmit)="submitUserForm()">
        <div>
            <label for="tags">Select Options :</label>
            <select formControlName="tags">
                <option value="null" disabled="true" [selected]="true">Select Options</option>                
                <option *ngFor="let item of masterTagList" value="{{item.attributes?.Name}}">  {{item.attributes?.DisplayName}}  </option>
              
            </select>
            </div>
        <div>
        <label for="role">Select Professional Type:</label>
        <select formControlName="role">
            <option value="null" disabled="true" [selected]="true">Professional Type</option>
            <option>Technical Expert</option>
            <option>Senior Executive</option>
            <option>General User</option>
        </select>
        </div>
        <div style="padding:10px;">   
            <button id="userFormSubmit" type="submit" value="Submit" >Submit</button>
        </div>        
        </form>

    </div>
</div>
<div *ngIf="isDataLoaded && !isUserForm" class="page-container container_1400">
    <div class="container">
        <div>
            <div>
                <div class="page-content-section" *ngIf = "SearchTagMenu == ':id'">
                    <div class="centered">
                        <h2>{{tagName}} Related Post</h2>
                    </div>
                    <div *ngFor="let menu of pageData;">
                        <h3 class="title">{{menu[0]?.attributes?.menuLabel}}</h3>
                        <div class="py-3">
                            <div class="row">
                                <ng-container *ngFor="let item of menu ;let i = index">
                                    <div class="col-sm-6 col-md-4 col-xs-12">
                                       <div class="pb-4" *ngIf = "item.attributes?.Thumbnail">                          
                                           <app-card-layout [image] = "item?.attributes?.Thumbnail?.Media?.data?.attributes?.url"
                                                [title]="item.attributes?.Title" [description]="item.attributes?.PreviewContent"
                                                [moduleName]="menu[0].attributes.menuType" [hyperlinkText]="'Read More'"
                                                [slug] = "item.attributes?.Slug"
                                                [type]="'recommendation-card-layout'">
                                            </app-card-layout>
                                        </div>
                                        <div class="pb-4" *ngIf = "!item.attributes.Thumbnail">                                
                                            <app-card-layout 
                                                [title]="item.attributes?.Title" [description]="item.attributes?.PreviewContent"
                                                [moduleName]="menu[0].attributes.menuType" [hyperlinkText]="'Read More'"
                                                [slug] = "item.attributes?.Slug"
                                                [type]="'recommendation-card-layout'">
                                            </app-card-layout>    
                                        </div>
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    
                </div>
                <div class="page-content-section" *ngIf =" !SearchTagMenu && pageData.length > 0">
                    <div class="row">        
                        <div *ngFor="let item of pageData; let i = index;"class="col-lg-4 col-md-6 col-sm-12 col-xs-12">
                            <div  >
                                <div class="box_block" >
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                            <app-right-menu-details-card 
                                                [route] = "routePath"
                                                [slug]="item?.attributes?.Slug"
                                                [cardImage]="item?.attributes?.Thumbnail?.Media?.data?.attributes.url"
                                            ></app-right-menu-details-card>
                                        </div>
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                            <app-right-menu-details-card 
                                            [title]="item?.attributes?.Title"
                                            [authorDetails]="item?.attributes?.Authors?.data"                            
                                            [date]="item?.attributes?.PublishedOn"
                                            >
                                            </app-right-menu-details-card>
                                            <div class="tag_block" *ngIf="item?.attributes?.Tags?.data">
                                                <div class="tab" *ngFor="let tag of item?.attributes?.Tags?.data;  let i=index ">                                
                                                    <a *ngIf="i < 1" (click) = "callTag('SearchTag='+ tag?.attributes?.Slug, ':id')" routerLink="{{'/SearchTag='+tag?.attributes?.Slug}}">{{tag.attributes.DisplayName}}</a>
                                                </div> 
                                                <div class="tab" *ngIf="(item?.attributes?.Tags?.data).length > 1"> 
                                                    <a class="more_tags"><i class="fas fa-sharp fa-light fa-tags"></i></a>
                                                    <div class="tag_all_block" *ngIf="item?.attributes?.Tags?.data">
                                                        <div class="tab" *ngFor="let tag of item?.attributes?.Tags?.data">
                                                            <a (click) = "callTag('SearchTag='+ tag?.attributes?.Slug, ':id')" routerLink="{{'/SearchTag='+tag?.attributes?.Slug}}">{{tag.attributes.DisplayName}}</a>                                                      
                                                        </div> 
                                                    </div>
                                                </div>
                                            </div>
                                            <app-right-menu-details-card 
                                            [cardContent]="item?.attributes?.PreviewContent">
                                            </app-right-menu-details-card>
                                            <a *ngIf="searchTag || pageDetailsName =='analytics'" routerLink="{{'/'+SearchTagMenu+'/'+ item?.attributes?.Slug}}" class="read-more">Read
                                                More...</a>                               
                                            <a *ngIf="!searchTag && pageDetailsName !='analytics'" routerLink="{{'/'+ routePath + '/'+ item?.attributes?.Slug}}" class="read-more">Read
                                                    More...</a> 
                                        </div>
                                    </div>
                                </div>  
                            </div>
                        </div>
                    </div>                 
                </div>
            </div>
        </div>
    </div>
</div>

<div *ngIf="isOfferingsLoaded && !isUserForm" class="page-container"> 
    <div class="container">
        <div class="row">
            <div class="col-12 col-md-8 col-lg-9 border-right">
                <div *ngFor="let item of pageData">
                    <div class="page-content py-4" >
                        <markdown [data]="(offeringsFullContent)"> </markdown>
                    </div>
                </div>                
            </div>
            <div class="col-12 col-md-4 col-lg-3 border-left">
                <app-right-menu-sidebar [data]="pageData"></app-right-menu-sidebar>
            </div>
            <div class="recommendation-section" *ngIf="recommendationMetaData && recommendationMetaData.length > 0">
                <div *ngFor="let posts of recommendationMetaData;let display = index">
                    <div class="" *ngIf="isRecommendationDisplay[0]?.[posts.TypeFilter]" > 
                        <h3>{{posts.Title}}</h3>
                    </div>       
                    <div class="py-4">
                        <div class="row">
                            <ng-container *ngFor="let item of recommendationData;let i = index">                                
                                <div class="col-xs-12 col-sm-12 col-md-4">
                                    <div class="pb-4" *ngIf="item.attributes.Type == posts.TypeFilter"> 
                                        <div *ngIf = "!item.attributes.CoverImage.data">
                                            <app-card-layout 
                                                [title]="item.attributes.Title" [description]="item.attributes.ShortContent"
                                                [moduleName]="posts.TypeFilter" [hyperlinkText]="posts.LinkLabel"
                                                [slug]="item.attributes.Slug"
                                                [type]="'recommendation-card-layout'">
                                            </app-card-layout>                                               
                                        </div> 
                                        <div *ngIf = "item.attributes.CoverImage.data">                                                                                   
                                        <app-card-layout 
                                            [image] = "item.attributes.CoverImage.data.attributes.formats.thumbnail.url"
                                            [title]="item.attributes.Title" [description]="item.attributes.ShortContent"
                                            [moduleName]="posts.TypeFilter" [hyperlinkText]="posts.LinkLabel"
                                            [slug]="item.attributes.Slug"
                                            [type]="'recommendation-card-layout'">
                                        </app-card-layout>                                               
                                        </div>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </div> 
                </div>

            </div>
        </div>
    </div>
</div>

<div *ngIf="(isAboutUs || isJoinUs || isCareers) && !isUserForm" class="page-container" style="padding-right: 0px;">
    <div *ngIf="pageData.length > 0 && isAboutUs" style="margin:0px auto;padding: 0px 0px 30px;">
        <div class="mb-5"><h2 class="full_heading_cover" style = "background-image:url('{{imageUrl}}')"><span>Our Team</span></h2></div>
            <div class="container">
                <div class="row">          
                    <div *ngFor="let item of pageData; let i = index" class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-xs-12"> 
                        <div class="pb-5" style="min-height: 70px;">
                        <div class="flex flex-wrap -m-5">   
                                <div class="w-full sm:w-1/2 md:w-1/3 flex flex-col p-3">
                                <div class="bg-white rounded-lg shadow-lg overflow-hidden flex-1 flex flex-col">
                                    <app-card-layout (click) = "searchAuthor(item?.attributes?.Slug)"
                                    [image] = "item?.attributes?.Thumbnail?.Media?.data?.attributes?.url"
                                    [title]="item?.attributes?.DisplayName"                        
                                    [description]="item?.attributes?.Title"
                                    [type]="'personal-card-layout'"
                                    >
                                    </app-card-layout>
                                </div>                         
                                </div> 
                            </div>
                        </div>
                    </div>  
                    
                </div>
            </div>
    </div>
    <div *ngIf="isJoinUs" style="margin:0px auto;padding: 0px 0px 30px;">
        <div class="mb-5"><h2 class="full_heading_cover" style = "background-image:url('{{imageUrl}}')"><span>Careers</span></h2></div>
       
        <div class="container">
            <div>        
            <div class="page-content py-4" >
                <markdown [data]="(offeringsFullContent)"> </markdown>  
            </div>
            <div *ngIf="pageData.length > 0" class="current_opening" >
                <a (click)="getCareerList()">Browse for Open Roles</a>
            </div>
        </div>
        </div>
    </div>
    <div *ngIf="isCareers" style="margin:0px auto;padding: 0px 0px 30px;">
        <div class="careerTitle" *ngIf = "pageData.length > 0"> 
                <h2>Current Openings</h2>
            </div> 
            <div class="careerTitle" *ngIf = "pageData.length == 0"> 
                <h2>There are no Current Openings.</h2>
            </div>
            <div class="container" *ngIf = "pageData.length > 0">                       
                <div class="row">
                    <table mat-table [dataSource]="dataSource" multiTemplateDataRows class="mat-elevation-z8">
                    <!-- Position Column -->
                        <ng-container matColumnDef="Role">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="Role"> 
                            Role
                            </th>
                            <td mat-cell *matCellDef="let element"> {{ element.Role }} </td>
                        </ng-container>
                        <ng-container matColumnDef="Location">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="Location"> 
                            Location
                            </th>
                            <td mat-cell *matCellDef="let element"> {{ element.Location }} </td>
                        </ng-container>
                        <ng-container matColumnDef="JobLevel">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="JobLevel"> 
                            Job Level
                            </th>
                            <td mat-cell *matCellDef="let element"> {{ element.JobLevel }} </td>
                        </ng-container>
                        <ng-container matColumnDef="Engagement">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header="Engagement"> 
                            Engagement
                            </th>
                            <td mat-cell *matCellDef="let element"> {{ element.Engagement }} </td>
                        </ng-container>
                        <!-- Position Column -->
                        <ng-container matColumnDef="Flag">
                        <th mat-header-cell *matHeaderCellDef>Flag</th>
                        <td mat-cell *matCellDef="let element">
                            <img [src]="'https://upload.wikimedia.org/wikipedia/commons/' + element.flag" height="50" width="50"
                            alt="country flag">
                        </td>
                        </ng-container>

                        <!-- Position Column -->
                        <ng-container matColumnDef="Name">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header="name"> 
                            Country Name
                        </th>
                        <td mat-cell *matCellDef="let element"> {{ element.name }} </td>
                        </ng-container>JobLevel

                        <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
                        <ng-container matColumnDef="expandedDetail">
                        <td mat-cell *matCellDef="let element" [attr.colspan]="displayedColumns.length">
                            <div class="example-element-detail" >      
                            <div class="example-element-description">
                                {{element.description}}
                                <span class="example-element-description-attribution"> -- Wikipedia </span>
                            </div>
                            </div>
                        </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let element; columns: displayedColumns;"
                            class="example-element-row"
                            [class.example-expanded-row]="element"
                            >
                        </tr>
                    </table>
                </div>
            </div>        
    </div>
</div>